# Telegram-бот для поиска незаполненных ячеек в таблицах

Этот Telegram-бот предназначен для анализа веб-страницы с таблицами и обнаружения незаполненных ячеек. Бот работает с веб-сайтом, использующим ExtJS фреймворк, и умеет анализировать динамически загружаемые таблицы.

## Функциональность

- Анализ страницы `https://app.meinpflegedienst.com/mp/?demo=X#uebersicht` на наличие пустых ячеек
- Структурированное представление результатов по категориям
- Сохранение полного списка пустых ячеек в JSON-файл
- Отправка файла с результатами через Telegram
- Статистика по найденным пустым ячейкам

## Команды бота

- `/start` - Начать работу с ботом
- `/check` - Проверить наличие пустых ячеек в таблицах
- `/stats` - Показать статистику по последней проверке
- `/help` - Показать справочную информацию

## Требования

- Python 3.6+
- Chrome браузер (для Selenium)
- Пакеты Python из файла `requirements.txt`

## Установка

1. Создайте виртуальное окружение:
```
python -m venv venv
```

2. Активируйте виртуальное окружение:
```
# В Windows PowerShell:
.\venv\Scripts\Activate.ps1

# В Windows Command Prompt:
venv\Scripts\activate.bat
```

3. Установите зависимости:
```
pip install -r requirements.txt
```

4. Установите токен бота Telegram в файл `.env`:
```
BOT_TOKEN=ваш_токен_бота
```

## Запуск

```
python bot.py
```

## Структура проекта

- `bot.py` - Основной файл с логикой Telegram-бота
- `scraper.py` - Модуль для анализа веб-страницы и поиска пустых ячеек
- `.env` - Файл с переменными окружения (токен бота)
- `requirements.txt` - Список зависимостей
- `empty_cells_*.json` - Сохраненные результаты проверок

## Примечания

- Для доступа к реальным данным может потребоваться авторизация
- Структура ExtJS-таблиц может отличаться, поэтому скрипт использует различные селекторы для поиска
- Для отладки в директории создаются скриншоты страницы
